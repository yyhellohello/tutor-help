# 使用範例

## 基本操作範例

### 1. 新增學生

#### 新學生（自動建立資料夾）
```
新增學生 小明 xiaoming@gmail.com 600
```

#### 既有學生（使用現有資料夾）
```
新增學生 小華 xiaohua@gmail.com 500 https://drive.google.com/drive/folders/1ABC123DEF456?usp=sharing
```

**回應範例：**
```
小明已登錄
上課費用：600元/小時
雲端資料夾：已設定
```

### 2. 排課

#### 基本排課
```
排課 小明 2024-01-15 14:00 15:00
```

**回應範例：**
```
小明 已完成排課
課程編號：C1705123456
上課時間：2024-01-15 14:00 - 15:00
Google Meet：已設定
雲端資料夾2024-01-15：已設定
當月累計費用：600元 (1.0小時)
```

#### 多堂課程
```
排課 小明 2024-01-15 14:00 15:00
排課 小華 2024-01-15 16:00 17:30
排課 小明 2024-01-16 10:00 11:00
```

### 3. 查詢課程

#### 查詢特定課程
```
查詢 C1705123456
```

**回應範例：**
```
課程資訊 - C1705123456
學生：小明
上課時間：2024-01-15 14:00 - 15:00

[修改時間] [取消排課]
```

### 4. 修改課程

#### 點擊「修改時間」按鈕後
系統會提示您輸入新時間：
```
請輸入新的時間格式：修改時間 C1705123456 YYYY-MM-DD HH:MM
```

#### 手動修改時間
```
修改時間 C1705123456 2024-01-15 15:00 16:00
```

**回應範例：**
```
課程時間已修改
小明 2024-01-15 15:00 - 16:00
Google Meet：已重新設定
雲端資料夾：已重新建立新的資料夾
```

### 5. 取消課程

#### 點擊「取消排課」按鈕
**回應範例：**
```
課程已取消
小明 2024-01-15 14:00
```

### 6. 月費計算

#### 計算上個月費用
```
月費計算
```

**回應範例：**
```
=== 小明 繳費通知 ===
哈囉~上個月的費用共1800元
上課時間3.0小時

再麻煩了~感謝

=== 小華 繳費通知 ===
哈囉~上個月的費用共1500元
上課時間3.0小時

再麻煩了~感謝
```

## 進階使用範例

### 1. 批量新增學生

```
新增學生 學生A studentA@gmail.com 550
新增學生 學生B studentB@gmail.com 600
新增學生 學生C studentC@gmail.com 500
```

### 2. 固定時間課程

```
排課 小明 2024-01-15 14:00 15:00
排課 小明 2024-01-22 14:00 15:00
排課 小明 2024-01-29 14:00 15:00
```

### 3. 課程狀態管理

課程狀態會自動更新：
- **scheduled**: 已預約
- **completed**: 已完成（計費）
- **cancelled**: 已取消（不計費）

### 4. 自動化功能

#### 每日提醒（早上9點）
```
早安~

今天有以下的日文家教(依照開始時間由早至晚排序，24小時制)
小明 2024-01-15 14:00 2024-01-15 15:00
小華 2024-01-15 16:00 2024-01-15 17:30
```

#### 課前提醒（上課前10分鐘）
```
小明14:00 還有 10 分鐘要開始了！
Google Meet 連結：https://meet.google.com/abc-defg-hij

等等見~
```

## 常見問題

### Q: 如何修改學生費用？
A: 目前需要重新新增學生，或直接修改資料庫。

### Q: 如何查看所有學生？
A: 目前沒有此功能，可以透過月費計算查看有課程的學生。

### Q: 如何備份資料？
A: 定期下載 `tutor_bot.db` 檔案作為備份。

### Q: 如何刪除學生？
A: 目前沒有此功能，可以將課程狀態設為 cancelled。

### Q: 如何修改課程時間？
A: 使用「查詢」指令找到課程，然後點擊「修改時間」按鈕。

## 注意事項

1. **時間格式**：必須使用 `YYYY-MM-DD HH:MM` 格式
2. **課程編號**：系統自動生成，格式為 `C` + 時間戳記
3. **費用計算**：只計算狀態為 `completed` 的課程
4. **Google Meet**：自動建立並發送邀請郵件
5. **雲端資料夾**：自動建立學生專屬資料夾和課程資料夾

## 故障排除

### 1. 排課失敗
- 檢查學生是否已新增
- 檢查時間格式是否正確
- 檢查Google API權限

### 2. Google Meet建立失敗
- 檢查Google Calendar權限
- 檢查服務帳戶設定

### 3. 雲端資料夾建立失敗
- 檢查Google Drive權限
- 檢查根資料夾ID是否正確

### 4. LINE Bot無回應
- 檢查Webhook URL設定
- 檢查Channel Access Token
- 檢查部署狀態
